package com.david.servlet.cookie;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.net.URLEncoder;

/**
 * Cookie??????
 * @author david
 * @create 2019-05-29 23:33
 */
@WebServlet("/c1")
public class C01CookieQuickStartSend extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //??cookie
        Cookie c=new Cookie("msg","quickStart");
        /**
         * setMaxAge(int seconds)
         1. ????Cookie????????????????????cookie??????????cookie??????
         2. ??????
         3. ????cookie??
         */
        c.setMaxAge(60);//??cookie??????????????cookie?????????????????

        //??cookie
        response.addCookie(c);

        //??????cookie
        c=new Cookie("a","AA");
        response.addCookie(c);
        /*
         * ?tomcat 8 ?? cookie????????????
         * ?????????---????URL??(%E3)
         * ?tomcat 8 ???cookie?????????????????????URL?????URL????
         */
        String value= URLEncoder.encode("??cookie");
        c=new Cookie("CN",value);
        response.addCookie(c);
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doPost(request,response);
    }
}
